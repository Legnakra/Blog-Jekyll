<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-translate-customization" content="108d9124921d80c3-80e20d618ff053c8-g4f02ec6f3dba68b7-c">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Taller Docker - Creaci칩n de im치genes Docker | sysmaria</title>
<meta name="generator" content="Jekyll v4.2.2">
<meta property="og:title" content="Taller Docker - Creaci칩n de im치genes Docker">
<meta property="og:locale" content="en_US">
<meta name="description" content="Creaci칩n de una imagen a partir de un Dockerfile">
<meta property="og:description" content="Creaci칩n de una imagen a partir de un Dockerfile">
<link rel="canonical" href="/iaw/2023/01/27/docker-imagen.html">
<meta property="og:url" content="/iaw/2023/01/27/docker-imagen.html">
<meta property="og:site_name" content="sysmaria">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-01-27T16:11:17+01:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Taller Docker - Creaci칩n de im치genes Docker">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-01-27T16:11:17+01:00","datePublished":"2023-01-27T16:11:17+01:00","description":"Creaci칩n de una imagen a partir de un Dockerfile","headline":"Taller Docker - Creaci칩n de im치genes Docker","mainEntityOfPage":{"@type":"WebPage","@id":"/iaw/2023/01/27/docker-imagen.html"},"url":"/iaw/2023/01/27/docker-imagen.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="icon" href="">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-noto-sans@0.0.72/index.min.css">
  <link rel="stylesheet" href="/assets/css/main.css">
  <script src="/assets/js/main.js"></script><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="sysmaria">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
<!-- and it's easy to individually load additional languages -->
<script charset="UTF-8" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/languages/go.min.js"></script>



















<script>
// Init highlight js
document.addEventListener('DOMContentLoaded', function(event) {
  var els = document.querySelectorAll('pre code')

  function addLangData(block) {
    var outer = block.parentElement.parentElement.parentElement;
    var lang = block.getAttribute('data-lang');
    for (var i = 0; i < outer.classList.length; i++) {
      var cls = outer.classList[i];
      if (cls.startsWith('language-')) {
        lang = cls;
        break;
      }
    }
    if (!lang) {
      cls = block.getAttribute('class');
      lang = cls ? cls.replace('hljs ', '') : '';
    }
    if (lang.startsWith('language-')) {
      lang = lang.substr(9);
    }
    block.setAttribute('class', 'hljs ' + lang);
    block.parentNode.setAttribute('data-lang', lang);
  }

  function addBadge(block) {
    var enabled = ('true' || 'true').toLowerCase();
    if (enabled == 'true') {
      var pre = block.parentElement;
      pre.classList.add('badge');
    }
  }

  function handle(block) {
    addLangData(block);
    addBadge(block)
    hljs.highlightBlock(block);
  }

  for (var i = 0; i < els.length; i++) {
    var el = els[i];
    handle(el);
  }
});
</script>

<style>
  /* code language badge */
  pre.badge::before {
    content: attr(data-lang);
    color: #fff;
    background-color: #ff4e00;
    padding: 0 .5em;
    border-radius: 0 2px;
    text-transform: uppercase;
    text-align: center;
    min-width: 32px;
    display: inline-block;
    position: absolute;
    right: 0;
  }

  /* fix wrong badge display for firefox browser */
  code > table pre::before {
    display: none;
  }
</style>
</head>
<body>



























































































































<header class="site-header site-header-transparent" role="banner">

  <div class="wrapper">
    <div class="site-header-inner">
<span class="site-brand"><a class="site-brand-inner" rel="author" href="/">
  <img class="site-favicon" title="sysmaria" src="" onerror="this.style.display='none'">
  sysmaria
</a>
</span><nav class="site-nav">
          <input type="checkbox" id="nav-trigger" class="nav-trigger">
          <label for="nav-trigger">
            <span class="menu-icon">
              <svg viewbox="0 0 18 15" width="18px" height="15px">
                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
              </svg>
            </span>
          </label>

          <div class="trigger">
<a class="page-link" href="/categories.html">CATEGORIAS</a>




</div>
        </nav>
</div>
  </div>
</header>

<script>
  function initHeader() {
    var lastScrollY = getScrollPos().y;
    var documentElement = document.documentElement;

    function storeScrollData() {
      var y = getScrollPos().y;documentElement.setAttribute("data-header-transparent", "");var scrollStatus = "";

      if (y <= 0) {
        scrollStatus = "top";
      } else if ((window.innerHeight + y) >= document.body.offsetHeight) {
        scrollStatus = "bottom";
      } else {
        var isScrollDown = (y - lastScrollY > 0) ? true : false;
        scrollStatus = isScrollDown ? "down" : "up";
      }

      lastScrollY = y;
      documentElement.setAttribute("data-scroll-status", scrollStatus);
    }

    window.addEventListener('scroll', function(e) {
      storeScrollData();
    });

    storeScrollData();
  }
  document.addEventListener('DOMContentLoaded', initHeader);
</script>
















































































































































<section class="page-banner">
    <div class="page-banner-img">
<div style="background-image: url(/assets/images/banners/docker.png)"></div>
        <img class="img-placeholder" src="/assets/images/banners/docker.png">
</div>
    <div class="wrapper">
      <div class="page-banner-inner">
<header class="post-header">
  <h1 class="post-title p-name" itemprop="name headline">Taller Docker - Creaci칩n de im치genes Docker</h1>
  <h2 class="post-subtitle"></h2>

  <p class="post-meta">
    <time class="dt-published" datetime="2023-01-27T16:11:17+01:00" itemprop="datePublished"><i class="fa fa-calendar"></i> Jan 27, 2023
    </time>

    
    
































    <span class="post-reading-time left-vsplit"><i class="fa fa-clock-o"></i> About 8 mins</span>
  </p></header>
</div>
    </div>
  </section><script>
  function hashLocate(hashValue) {
    hashValue = hashValue.replace(/^.*#h-/, '');
    hashValue = decodeURIComponent(hashValue);
    var element = document.getElementById(hashValue);

    if (!element) {
      return;
    }

    var header = document.querySelector('header.site-header');
    var headerRect = header.getBoundingClientRect();
    var headerTop = Math.floor(headerRect.top);
    var headerHeight = Math.floor(headerRect.height);
    var scrollPos = getScrollPos();
    var offsetY = element.offsetTop - (headerTop + headerHeight + 20);

    if (offsetY == scrollPos.y) {
      return;
    }

    if (headerTop == 0  && offsetY > scrollPos.y) {
      offsetY += headerHeight + 2;
    } else if (headerTop < 0  && offsetY < scrollPos.y) {
      offsetY -= headerHeight - 2;
    }

    smoothScrollTo(offsetY);
  }

  // The first event occurred
  window.addEventListener('load', function(event) {
    if (window.location.hash) {
      hashLocate(window.location.hash);
    }
  });

  // The first event occurred
  window.addEventListener('click', function(event) {
    if (event.target.tagName.toLowerCase() == 'a') {
      hashLocate(event.target.getAttribute('href'));
    }
  });
</script>
<div class="theme-toggle">
  <input type="checkbox" id="theme-switch">
  <label for="theme-switch">
    <div class="toggle"></div>
    <div class="names">
      <p class="light">Light</p>
      <p class="dark">Dark</p>
    </div>
  </label>
</div>




<script>
  (function() {
    var sw = document.getElementById('theme-switch');
    var html = document.getElementsByTagName('html')[0];
    var nightModeOption = ('auto' || 'auto').toLowerCase();
    var storage = nightModeOption === 'manual'
        ? localStorage
        : sessionStorage;
    var themeData = loadThemeData();

    function saveThemeData(data) {
      storage.setItem('theme', JSON.stringify(data));
    }

    function loadThemeData() {
      var data = storage.getItem('theme');
      try {
        data = JSON.parse(data ? data : '');
      } catch(e) {
        data = { nightShift: undefined, autoToggleAt: 0 };
        saveThemeData(data);
      }
      return data;
    }

    function handleThemeToggle(nightShift) {
      themeData.nightShift = nightShift;
      saveThemeData(themeData);
      html.dataset.theme = nightShift ? 'dark' : 'light';
      setTimeout(function() {
        sw.checked = nightShift ? true : false;
      }, 50);
    }

    function autoThemeToggle() {
      // Next time point of theme toggle
      var now = new Date();
      var toggleAt = new Date();
      var hours = now.getHours();
      var nightShift = hours >= 19 || hours <=7;

      if (nightShift) {
        if (hours > 7) {
          toggleAt.setDate(toggleAt.getDate() + 1);
        }
        toggleAt.setHours(7);
      } else {
        toggleAt.setHours(19);
      }

      toggleAt.setMinutes(0);
      toggleAt.setSeconds(0);
      toggleAt.setMilliseconds(0)

      var delay = toggleAt.getTime() - now.getTime();

      // auto toggle theme mode
      setTimeout(function() {
        handleThemeToggle(!nightShift);
      }, delay);

      return {
        nightShift: nightShift,
        toggleAt: toggleAt.getTime()
      };
    }

    // Listen the theme toggle event
    sw.addEventListener('change', function(event) {
      handleThemeToggle(event.target.checked);
    });

    if (nightModeOption == 'auto') {
      var data = autoThemeToggle();

      // Toggle theme by local setting
      if (data.toggleAt > themeData.autoToggleAt) {
        themeData.autoToggleAt = data.toggleAt;
        handleThemeToggle(data.nightShift);
      } else {
        handleThemeToggle(themeData.nightShift);
      }
    } else if (nightModeOption == 'manual') {
      handleThemeToggle(themeData.nightShift);
    } else {
      var nightShift = themeData.nightShift;
      if (nightShift === undefined) {
        nightShift = nightModeOption === 'on';
      }
      handleThemeToggle(nightShift);
    }
  })();
</script>
<div id="click-to-top" class="click-to-top">
  <i class="fa fa-arrow-up"></i>
</div>
<script>
  (function () {
    const clickToTop = document.getElementById('click-to-top');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 100) {
        clickToTop.classList.add('show')
      }else {
        clickToTop.classList.remove('show')
      }
    });
    clickToTop.addEventListener('click', () => {
      window.smoothScrollTo(0);
    });
  })();
</script>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="framework">
  <section class="main">

     <div class="post">
  <section>









<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

    <div class="post-content e-content" itemprop="articleBody">

      <h2 id="creaci칩n-de-una-imagen-a-partir-de-un-dockerfile">Creaci칩n de una imagen a partir de un Dockerfile</h2>

<ol>
  <li>
    <p>Crea una p치gina web est치tica index.html. En mi caso, incluir칠 el CSS y el JS en el mismo fichero HTML.</p>

    <p>```html</p>
    
 
     <meta charset="utf-8">
     <meta name="viewport" content="width=device-width, initial-scale=1">
     <title>Crear Imagen Docker</title>
        <style type="text/css">
       /*<![CDATA[*/

             html {
              height: 100%;
              width: 100%;
            }  
              body {
        background: rgb(20,72,50);
        background: -moz-linear-gradient(180deg, rgba(23,43,70,1) 30%, rgba(0,0,0,1) 90%)  ;
        background: -webkit-linear-gradient(180deg, rgba(23,43,70,1) 30%, rgba(0,0,0,1) 90%) ;
        background: linear-gradient(180deg, rgba(23,43,70,1) 30%, rgba(0,0,0,1) 90%);
        background-repeat: no-repeat;
        background-attachment: fixed;
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#3c6eb4",endColorstr="#3c95b4",GradientType=1); 
              color: white;
              font-size: 0.9em;
              font-weight: 400;
              font-family: 'Montserrat', sans-serif;
              margin: 0;
              padding: 10em 6em 10em 6em;
              box-sizing: border-box;      
            }
                    h1 {
          text-align: center;
          margin: 0;
          padding: 0.6em 2em 0.4em;
          color: #fff;
          font-weight: bold;
          font-family: 'Montserrat', sans-serif;
          font-size: 2em;
        }
        h1 strong {
          font-weight: bolder;
          font-family: 'Montserrat', sans-serif;
        }
        h2 {
          font-size: 1.5em;
          font-weight:bold;
        }
              .title {
          border: 1px solid black;
          font-weight: bold;
          position: relative;
          float: right;
          width: 150px;
          text-align: center;
          padding: 10px 0 10px 0;
          margin-top: 0;
        }
              .description {
          padding: 45px 10px 5px 10px;
          clear: right;
          padding: 15px;
        }
              .section {
          padding-left: 3%;
         margin-bottom: 10px;
        }
              img {
                padding: 2px;
          margin: 2px;
        }
        a:hover img {
          padding: 2px;
          margin: 2px;
        }
              :link {
          color: rgb(199, 252, 77);
          text-shadow:
        }
        :visited {
          color: rgb(122, 206, 255);
        }
        a:hover {
          color: rgb(16, 44, 122);
        }
        .row {
          width: 100%;
          padding: 0 10px 0 10px;
        }
              footer {
          padding-top: 6em;
          margin-bottom: 6em;
          text-align: center;
          font-size: xx-small;
          overflow:hidden;
          clear: both;
        }
              .summary {
          font-size: 140%;
          text-align: center;
        }
              #rocky-poweredby img {
          margin-left: -10px;
        }
              #logos img {
          vertical-align: top;
        }
              /* Desktop  View Options */
              @media (min-width: 768px)  {
                body {
            padding: 10em 20% !important;
          }
                .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6,
          .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12 {
            float: left;
          }
                .col-md-1 {
            width: 8.33%;
          }
          .col-md-2 {
            width: 16.66%;
          }
          .col-md-3 {
            width: 25%;
          }
          .col-md-4 {
            width: 33%;
          }
          .col-md-5 {
            width: 41.66%;
          }
          .col-md-6 {
            border-left:3px ;
            width: 50%;
                      }
          .col-md-7 {
            width: 58.33%;
          }
          .col-md-8 {
            width: 66.66%;
          }
          .col-md-9 {
            width: 74.99%;
          }
          .col-md-10 {
            width: 83.33%;
          }
          .col-md-11 {
            width: 91.66%;
          }
          .col-md-12 {
            width: 100%;
          }
        }
              /* Mobile View Options */
        @media (max-width: 767px) {
          .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6,
          .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {
            float: left;
          }
                .col-sm-1 {
            width: 8.33%;
          }
          .col-sm-2 {
            width: 16.66%;
          }
          .col-sm-3 {
            width: 25%;
          }
          .col-sm-4 {
            width: 33%;
          }
          .col-sm-5 {
            width: 41.66%;
          }
          .col-sm-6 {
            width: 50%;
          }
          .col-sm-7 {
            width: 58.33%;
          }
          .col-sm-8 {
            width: 66.66%;
          }
          .col-sm-9 {
            width: 74.99%;
          }
          .col-sm-10 {
            width: 83.33%;
          }
          .col-sm-11 {
            width: 91.66%;
          }
          .col-sm-12 {
            width: 100%;
          }
          h1 {
            padding: 0 !important;
          }
        }
              </style>
        
        
               <h1>춰Bienvenid@ Docker!</h1>
               <h2>Esta es una web desplegada desde un contenedor de Docker</h2>
               <p>Realizado por <strong>Mar칤a Jes칰s Alloza</strong></p>
        
 
  </li>
  <li>
    <p>Crea un fichero Dockerfile que permita crear una imagen con un servidor web sirviendo la p치gina. Puedes usar una imagen base debian o ubuntu, o una imagen que tenga ya un servicio web, como hemos visto en el apartado Ejemplo 1: Construcci칩n de im치genes con una p치gina est치tica.</p>

    <ul>
      <li>
        <p>Primero, crea un directorio donde guardar치s los ficheros de la web. En este directorio crea un fichero index.html con el contenido que quieras. En este caso, el fichero index.html es el que hemos creado en el apartado anterior.</p>

        <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  mkdir mi_servidor_web
  cd servidor_web
  touch index.html
</code></pre></div>        </div>
      </li>
      <li>
        <p>Luego, crearemos un fichero Dockerfile con el siguiente contenido:</p>

        <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  FROM debian
  MAINTAINER Mar칤a Jes칰s Alloza <span class="s2">"mariajesus.alloza@outlook.es"</span>
  RUN apt-get update <span class="o">&amp;&amp;</span> apt-get <span class="nb">install</span> <span class="nt">-y</span> apache2
  COPY index.html /var/www/html/index.html
  CMD <span class="o">[</span><span class="s2">"/usr/sbin/apache2ctl"</span>, <span class="s2">"-D"</span>, <span class="s2">"FOREGROUND"</span><span class="o">]</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p>Ejecuta el comando docker que crea la nueva imagen. La imagen se debe llamar /mi_servidor_web:v1.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> docker build <span class="nt">-t</span> mi_servidor_web:v1 <span class="nb">.</span>
</code></pre></div>    </div>

    <p><img src="/assets/images/docker/taller3/1.png" alt="1"></p>

    <p><img src="/assets/images/docker/taller3/2.png" alt="2"></p>

    <p>Listamos las im치genes para comprobar que se ha creado correctamente:</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> ```bash
 docker images
 ```
</code></pre></div>    </div>

    <p><strong>NOTA</strong>: El punto al final del comando es importante, ya que indica que el contexto de construcci칩n es el directorio actual.</p>

    <p><img src="/assets/images/docker/taller3/3.png" alt="3"></p>

    <ul>
      <li>
        <p>Creamos el contenedor para comprobar que funciona correctamente:</p>

        <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  docker run <span class="nt">-d</span> <span class="nt">-p</span> 80:80 <span class="nt">--name</span> mi_servidor_web mi_servidor_web:v1
</code></pre></div>        </div>

        <p><img src="/assets/images/docker/taller3/4.png" alt="4"></p>
      </li>
      <li>
        <p>Y accedemos a la p치gina web desde el navegador:</p>

        <p><img src="/assets/images/docker/taller3/5.png" alt="5"></p>
      </li>
    </ul>
  </li>
  <li>
    <p>Una vez comprobado, nos conectamos a Docker Hub y subimos la imagen que acabas de crear.</p>

    <ul>
      <li>
        <p>Nos creamos una cuenta en Docker Hub en su <a href="https://hub.docker.com/">p치gina web</a>.</p>
      </li>
      <li>
        <p>Una vez creada la cuenta, nos logueamos en Docker Hub desde la terminal:</p>

        <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  docker login <span class="nt">-u</span> legnakra
</code></pre></div>        </div>

        <p><img src="/assets/images/docker/taller3/6.png" alt="6"></p>
      </li>
      <li>
        <p>Lo siguiente es preparar nuestra imagen para que sea aceptada en este registro p칰blico. Todos los registros siguen una nomenclatura a la hora de almacenar los repositorios. En el caso de Docker Hub necesitamos que nuestra imagen se llame <code class="language-plaintext highlighter-rouge">nombre_de_usuario/nombre_del_repositorio:etiqueta</code>. En nuestro caso, la imagen se llamar치 <code class="language-plaintext highlighter-rouge">legnakra/mi_servidor_web:v1</code>.</p>

        <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  docker tag mi_servidor_web:v1 legnakra/mi_servidor_web:latest
</code></pre></div>        </div>

        <p><strong>NOTA</strong>: La etiqueta latest es la que se utiliza por defecto cuando no se especifica ninguna etiqueta. Por eso, cuando nos descarguemos la imagen, no tendremos que especificar la etiqueta. Sin embargo, si queremos descargar una imagen con una etiqueta concreta, tendremos que especificarla.</p>
      </li>
      <li>
        <p>Por 칰ltimo, subimos la imagen a Docker Hub:</p>

        <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  docker push legnakra/mi_servidor_web:v1
  <span class="c"># O tambi칠n se puede hacer:</span>
  docker push legnakra/mi_servidor_web
</code></pre></div>        </div>

        <p><img src="/assets/images/docker/taller3/7.png" alt="7"></p>
      </li>
    </ul>

    <p>Como podemos ver <a href="https://hub.docker.com/r/legnakra/mi_servidor_web/">aqu칤</a>, la imagen se ha subido correctamente.</p>
  </li>
  <li>
    <p>Descargamos la imagen en otro ordenador donde tengamos docker instalado, y creamos un contenedor a partir de ella.</p>

    <p><img src="/assets/images/docker/taller3/8.png" alt="8"></p>

    <p><img src="/assets/images/docker/taller3/9.png" alt="9"></p>

    <p><img src="/assets/images/docker/taller3/10.png" alt="10"></p>
  </li>
  <li>
    <p>Realizamos una modificaci칩n de la p치gina web. Modificaremos el fichero index.html y a침adiremos:</p>

    <div class="language-html highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nt">&lt;p&gt;</span>Administraci칩n de Sistemas Inform치ticos en Red<span class="nt">&lt;/p&gt;</span>
 # A침adimos una imagen al 50% de su tama침o
 <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"https://png2.cleanpng.com/sh/da64d3e952f3349e22eb3ec8c65d8ada/L0KzQYm3VMA5N5dqfZH0aYP2gLBuTfRwa5xqip95eYTrf7A0kB9nfKhmitc2ZHXzfLFCjfVvfF59fdRyYXzkcsS0gB9vfJJuhtd7LUXkc7K5V8Nna2ZqTtcBLkS0R4e5UcA4OWY3S6MEN0e4SYm4UMYveJ9s/kisspng-docker-python-software-deployment-xebialabs-container-5aca273fc5e6e6.4176210715231977598106.png"</span> <span class="na">alt=</span><span class="s">"docker"</span> <span class="na">width=</span><span class="s">"50%"</span><span class="nt">&gt;</span> 
</code></pre></div>    </div>
  </li>
  <li>
    <p>Vuelve a crear una nueva imagen, en esta caso pon la eiqueta v2. S칰bela a Docker Hub.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> docker build <span class="nt">-t</span> mi_servidor_web:v2 <span class="nb">.</span>
</code></pre></div>    </div>

    <p><img src="/assets/images/docker/taller3/11.png" alt="11"></p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> docker tag mi_servidor_web:v2 legnakra/mi_servidor_web:latest
 docker push legnakra/mi_servidor_web:v2
</code></pre></div>    </div>

    <p><img src="/assets/images/docker/taller3/12.png" alt="12"></p>

    <ul>
      <li>
        <p>Creamos el contenedor para comprobar que funciona correctamente:</p>

        <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  docker run <span class="nt">-d</span> <span class="nt">-p</span> 80:80 <span class="nt">--name</span> mi_servidor_web mi_servidor_web:v2
</code></pre></div>        </div>

        <p><img src="/assets/images/docker/taller3/13.png" alt="13"></p>
      </li>
    </ul>
  </li>
  <li>
    <p>Por 칰ltimo, baja la nueva imagen en el ordenador donde est치 corriendo el contenedor. Para hacer la implantaci칩n de la nueva versi칩n debes borrar el contenedor y crear uno nuevo desde la nueva versi칩n de la imagen.</p>

    <ul>
      <li>
        <p>Primero eliminamos el contenedor que ten칤amos creado:</p>

        <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  docker <span class="nb">rm</span> <span class="nt">-f</span> mi_servidor_web
</code></pre></div>        </div>
      </li>
      <li>
        <p>Y ahora descargamos la nueva imagen:</p>
      </li>
    </ul>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> docker pull legnakra/mi_servidor_web
 <span class="c"># O tambi칠n se puede hacer:</span>
 docker pull legnakra/mi_servidor_web:v2
</code></pre></div>    </div>

    <p><img src="/assets/images/docker/taller3/14.png" alt="14"></p>

    <ul>
      <li>Y creamos el contenedor:</li>
    </ul>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> docker run <span class="nt">-d</span> <span class="nt">-p</span> 80:80 <span class="nt">--name</span> mi_servidor_web mi_servidor_web:v2
</code></pre></div>    </div>

    <p>Y como podemos ver, se han aplicado los cambios correctamente:</p>

    <p><img src="/assets/images/docker/taller3/15.png" alt="15"></p>
  </li>
</ol>


    </div>

</article>
<div class="post-nav">
<a class="previous" href="/iaw/2023/01/27/docker-multicontenedor.html" title="Taller Docker - Escenarios multicontenedor en Docker">Taller Docker - Escenarios multicontenedor en...</a><span></span>
</div>
<div class="post-related">
      <div>Related Articles</div>
      <ul>
        <li><a class="post-link" href="/seguridad/2023/01/13/vpn-d.html" title="">VPN sitio a sitio con WireGuard</a></li>
<li><a class="post-link" href="/seguridad/2023/01/09/vpn.html" title="">Acceso remoto con OpenVPN y certificados x509</a></li>
<li><a class="post-link" href="/aso/2022/10/12/compilacion-paquete-makefile.html" title="">Compilar dos2unix partiendo del c칩digo fuente</a></li>
<li><a class="post-link" href="/iaw/2023/01/09/java-simple.html" title="">Desarrollo y despliegue de una aplicaci칩n Java simple</a></li>
</ul>
    </div>
<div class="post-comments"></div></section>
</div>


  </section>
  <section class="sidebar" style="margin-left: 15px;">
    <!-- Get sidebar items --><style type="text/css" media="screen">
.post-menu ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
</style>

<div class="post-menu">
  <div class="post-menu-title">MEN칔 游닇</div>
  <div class="post-menu-content"></div>
</div>

<script>
  function generateContent() {
    var menu = document.querySelector(".post-menu");
    var menuContent =  menu.querySelector(".post-menu-content");
    var headings = document.querySelector(".post-content").querySelectorAll("h2, h3, h4, h5, h6");

    // Hide menu when no headings
    if (headings.length === 0) {
      return menu.style.display = "none";
    }

    // Generate post menu
    var menuHTML = '';
    for (var i = 0; i < headings.length; i++) {
      var h = headings[i];
      menuHTML += (
        '<li class="h-' + h.tagName.toLowerCase() + '">'
        + '<a href="#h-' + h.getAttribute('id') + '">' + h.textContent + '</a></li>');
    }

    menuContent.innerHTML = '<ul>' + menuHTML + '</ul>';

    // The header element
    var header = document.querySelector('header.site-header');

    function doMenuCollapse(index, over_items) {
      var items = menuContent.firstChild.children;

      if (over_items == undefined) {
        over_items = 20;
      }

      if (items.length < over_items) {
        return;
      }

      var activeItem = items[index];
      var beginItem = activeItem
      var endItem = activeItem
      var beginIndex = index;
      var endIndex = index + 1;
      while (beginIndex >= 0
        && !items[beginIndex].classList.contains('h-h2')) {
        beginIndex -= 1;
      }
      while (endIndex < items.length
        && !items[endIndex].classList.contains('h-h2')) {
        endIndex += 1;
      }
      for (var i = 0; i < beginIndex; i++) {
        item = items[i]
        if (!item.classList.contains('h-h2')) {
          item.style.display = 'none';
        }
      }
      for (var i = beginIndex + 1; i < endIndex; i++) {
        item = items[i]
        // if (!item.classList.contains('h-h2')) {
          item.style.display = '';
        // }
      }
      for (var i = endIndex; i < items.length; i++) {
        item = items[i]
        if (!item.classList.contains('h-h2')) {
          item.style.display = 'none';
        }
      }
    }

    // Init menu collapsed
    doMenuCollapse(-1);

    // Active the menu item
    window.addEventListener('scroll', function (event) {
      var lastActive = menuContent.querySelector('.active');
      var changed = true;
      var activeIndex = -1;
      for (var i = headings.length - 1; i >= 0; i--) {
        var h = headings[i];
        var headingRect = h.getBoundingClientRect();
        var headerRect = header.getBoundingClientRect();
        var headerTop = Math.floor(headerRect.top);
        var headerHeight = Math.floor(headerRect.height);
        var headerHeight = headerTop + headerHeight + 20;
        if (headingRect.top <= headerHeight) {
          var id = 'h-' + h.getAttribute('id');
          var a = menuContent.querySelector('a[href="#' + id  + '"]');
          var curActive = a.parentNode;
          if (curActive) {
            curActive.classList.add('active');
            activeIndex = i;
          }
          if (lastActive == curActive) {
            changed = false;
          }
          break;
        }
      }
      if (changed) {
        if (lastActive) {
          lastActive.classList.remove('active');
        }
        doMenuCollapse(activeIndex);
      }
      event.preventDefault();
    });
  }
  generateContent();
</script>
</section>
</div>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">
    <div class="site-footer-inner">
<div></div>
      <div>Powered by <a title="Jekyll is a simple, blog-aware, static site
      generator." href="https://jekyllrb.com/">Jekyll</a> &amp; <a title="Yat, yet
      another theme." href="https://github.com/jeffreytse/jekyll-theme-yat">Yat Theme</a>.</div>
      <div class="footer-col rss-subscribe">Subscribe <a href="/feed.xml">via RSS</a>
</div>
    </div>
  </div>
</footer>
</body>
</html>
