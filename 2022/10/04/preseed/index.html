<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>

  <title>Creación de un sistema automatizado de instalación</title>
  <meta name='description' content="IntroducciónCreación de un sistema automatizado de instalación.Se deberá configurar el sistema para que se responda automáticamente a todos los item en la in...">
  <link rel='canonical' href="flexton.netlify.com/2022/10/04/preseed/">
  <link rel='alternate' type='application/rss+xml' title='Welcome to MariaTec' href="flexton.netlify.com/feed.xml">
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Volkhov:400,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet">

  <style>
    
    /*! normalize.css v7.0.0 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:rgba(0,0,0,0);-webkit-text-decoration-skip:objects}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,html [type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}template{display:none}[hidden]{display:none}body,h1,h2,h3,h4,h5,h6,p,blockquote,pre,dl,dd,ol,ul,fieldset,legend,figure,hr{margin:0;padding:0}li>ul,li>ol{margin-bottom:0}table{border-collapse:collapse;border-spacing:0}@-webkit-keyframes spin{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.icon{position:relative;display:inline-block;width:25px;height:25px;overflow:hidden;fill:currentColor}.icon__cnt{width:100%;height:100%;background:inherit;fill:inherit;pointer-events:none;transform:translateX(0);-ms-transform:translate(0.5px, -0.3px)}.icon--m{width:50px;height:50px}.icon--l{width:100px;height:100px}.icon--xl{width:150px;height:150px}.icon--xxl{width:200px;height:200px}.icon__spinner{position:absolute;top:0;left:0;width:100%;height:100%}.icon--ei-spinner .icon__spinner,.icon--ei-spinner-2 .icon__spinner{-webkit-animation:spin 1s steps(12) infinite;animation:spin 1s steps(12) infinite}.icon--ei-spinner-3 .icon__spinner{-webkit-animation:spin 1.5s linear infinite;animation:spin 1.5s linear infinite}.icon--ei-sc-facebook{fill:#3b5998}.icon--ei-sc-github{fill:#333}.icon--ei-sc-google-plus{fill:#dd4b39}.icon--ei-sc-instagram{fill:#3f729b}.icon--ei-sc-linkedin{fill:#0976b4}.icon--ei-sc-odnoklassniki{fill:#ed812b}.icon--ei-sc-skype{fill:#00aff0}.icon--ei-sc-soundcloud{fill:#f80}.icon--ei-sc-tumblr{fill:#35465c}.icon--ei-sc-twitter{fill:#55acee}.icon--ei-sc-vimeo{fill:#1ab7ea}.icon--ei-sc-vk{fill:#45668e}.icon--ei-sc-youtube{fill:#e52d27}.icon--ei-sc-pinterest{fill:#bd081c}.icon--ei-sc-telegram{fill:#08c}*,*::after,*::before{box-sizing:border-box}h1,h2,h3,h4,h5,h6,ul,ol,dl,blockquote,p,address,hr,table,fieldset,figure,pre{margin-bottom:15px}ul,ol,dd{margin-left:15px}.highlight{background:#f7f7f7}.highlighter-rouge .highlight{background:#eef}.highlight .c{color:#998;font-style:italic}.highlight .err{color:#a61717;background-color:#e3d2d2}.highlight .k{font-weight:bold}.highlight .o{font-weight:bold}.highlight .cm{color:#998;font-style:italic}.highlight .cp{color:#999;font-weight:bold}.highlight .c1{color:#998;font-style:italic}.highlight .cs{color:#999;font-weight:bold;font-style:italic}.highlight .gd{color:#000;background-color:#fdd}.highlight .gd .x{color:#000;background-color:#faa}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#999}.highlight .gi{color:#000;background-color:#dfd}.highlight .gi .x{color:#000;background-color:#afa}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#aaa}.highlight .gt{color:#a00}.highlight .kc{font-weight:bold}.highlight .kd{font-weight:bold}.highlight .kp{font-weight:bold}.highlight .kr{font-weight:bold}.highlight .kt{color:#458;font-weight:bold}.highlight .m{color:#099}.highlight .s{color:#d14}.highlight .na{color:teal}.highlight .nb{color:#0086b3}.highlight .nc{color:#458;font-weight:bold}.highlight .no{color:teal}.highlight .ni{color:purple}.highlight .ne{color:#900;font-weight:bold}.highlight .nf{color:#900;font-weight:bold}.highlight .nn{color:#555}.highlight .nt{color:navy}.highlight .nv{color:teal}.highlight .ow{font-weight:bold}.highlight .w{color:#bbb}.highlight .mf{color:#099}.highlight .mh{color:#099}.highlight .mi{color:#099}.highlight .mo{color:#099}.highlight .sb{color:#d14}.highlight .sc{color:#d14}.highlight .sd{color:#d14}.highlight .s2{color:#d14}.highlight .se{color:#d14}.highlight .sh{color:#d14}.highlight .si{color:#d14}.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .bp{color:#999}.highlight .vc{color:teal}.highlight .vg{color:teal}.highlight .vi{color:teal}.highlight .il{color:#099}body{font-family:"Open Sans",Helvetica Neue,Helvetica,Arial,sans-serif;font-size:15px;line-height:28px;color:#404040;background-color:#fbfbfb;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*::selection{color:#fff;background-color:#3af}h1,h2,h3,h4,h5,h6{font-family:"Volkhov","Times New Roman",Times,serif;font-weight:400;line-height:initial}h1{font-size:32px}h2{font-size:28px}h3{font-size:24px}h4{font-size:20px}h5{font-size:18px}h6{font-size:16px}img{max-width:100%;height:auto;vertical-align:middle}a{text-decoration:none;color:#3af;transition:.35s}a:hover{color:#0086e6}blockquote{padding-left:15px;border-left:3px solid #3af;font-family:"Volkhov","Times New Roman",Times,serif;font-style:normal;font-size:18px;background-color:rgba(220,235,245,.2)}blockquote p{padding:10px}hr{height:1px;margin:30px 0;border:0;background-color:#f0f0f0}pre{overflow:auto;padding:25px;font-size:14px;white-space:pre-wrap;word-wrap:break-word;word-break:break-all;font-family:Courier,monospace}code{overflow:auto;white-space:pre-wrap;word-wrap:break-word;word-break:break-all;font-family:Courier,monospace;font-size:14px;background-color:#f7f7f7}p code,li code{padding:3px 5px}.o-wrapper{max-width:1440px;position:relative}.o-opacity{animation-duration:.7s;animation-delay:.2s;animation-fill-mode:both;animation-name:opacity}@keyframes opacity{from{opacity:0}to{opacity:1}}.c-btn{display:inline-block;white-space:nowrap;vertical-align:middle;font-family:"Volkhov",serif;font-size:12px;text-align:center;padding:8px 15px;cursor:pointer;transition:.35s}.c-btn--primary{color:#fff;background-color:#3af;background:linear-gradient(135deg, #33aaff 0%, #62d5ff 100%)}.c-btn--secondary{color:#fff;background-color:#cfcfdd;background:linear-gradient(135deg, #a2a2bd 0%, #cfcfdd 100%)}.c-btn--round{border-radius:30px}.c-btn--shadow{box-shadow:8px 10px 20px 0 rgba(46,61,73,.15)}.c-btn--shadow:hover{box-shadow:2px 4px 8px 0px rgba(46,61,73,.2)}.c-btn--middle{display:block;width:300px;max-width:100%}.c-btn--big{display:block;width:100%}.c-btn:hover{color:#fff;transition:.35s}.c-btn:active{transform:translateY(2px)}.c-sidebar{display:flex;flex-direction:column;justify-content:space-between;position:fixed;top:0;left:0;bottom:0;width:360px;padding:40px 20px 20px;text-align:center;box-shadow:1px 1px 0 rgba(31,35,46,.15);background-color:#fff}.c-sidebar-author .c-author__cover{width:100px;height:100px;margin:0 auto 10px;border-radius:50%;overflow:hidden;background-color:#cfcfdd}.c-sidebar-author .c-author__cover img{width:100%;height:100%;border-radius:50%;transition:.35s}.c-sidebar-author .c-author__cover img:hover{transform:scale3d(0.9, 0.9, 1)}.c-sidebar-author .c-contact-menu .c-btn{min-width:110px}.c-sidebar-author .c-contact-menu .c-btn .icon{width:18px;height:18px;vertical-align:text-bottom;fill:#fff}.c-sidebar-author .c-author__info{font-family:"Volkhov",serif}.c-sidebar-author .c-author__name{font-size:18px;font-weight:700;line-height:21px}.c-sidebar-author .c-author__job{font-size:12px;color:#a0a0a0;margin:5px 0 0}.c-sidebar-author .c-contact-menu{margin:30px 0}.c-sidebar-author .c-contact-menu .c-btn--secondary{margin-right:10px}.c-sidebar-author .c-author__about{max-width:400px;margin:0 auto 15px;font-size:13px}.c-sidebar-footer .c-social__title{position:relative;font-family:"Volkhov",serif;font-size:15px;font-weight:700;color:#444}.c-sidebar-footer .c-social__title::before{content:"";display:block;height:2px;width:calc(50% - 40px);transform:translateY(-50%);position:absolute;top:50%;left:0;background-color:#444}.c-sidebar-footer .c-social__title::after{content:"";display:block;height:2px;width:calc(50% - 40px);transform:translateY(-50%);position:absolute;top:50%;right:0;background-color:#444}.c-sidebar-footer .c-social__list{list-style-type:none;padding:0;margin:15px 0}.c-sidebar-footer .c-social__list .c-social__item{display:inline-block;width:27px;height:27px}.c-sidebar-footer .c-social__list .icon{width:27px;height:27px;fill:#444;vertical-align:middle;transition:.35s}.c-sidebar-footer .c-social__list .icon:hover{fill:#3af;transform:scale(1.2);transition:.35s}.c-sidebar-footer .c-copyright p{font-size:13px;margin:0}@media only screen and (max-width: 900px){.c-sidebar{position:relative;width:100%;padding:20px}.c-sidebar .c-contact-menu{margin:20px 0}.c-sidebar-footer .c-social .c-social__title{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute !important;width:1px;word-wrap:normal !important}.c-sidebar-footer .c-social__list{margin:0}.c-sidebar-footer .c-copyright{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute !important;width:1px;word-wrap:normal !important}}@media only screen and (max-width: 480px){.c-sidebar-author .c-author__cover{width:80px;height:80px}.c-sidebar-author .c-author__cover img{width:100%;height:100%}.c-sidebar-author .c-contact-menu{margin:15px 0}.c-sidebar-author .c-contact-menu .c-btn{min-width:80px;font-size:10px;padding:4px 15px;margin-right:5px}.c-sidebar-author .c-contact-menu .c-btn .icon{width:16px;height:16px}.c-sidebar-footer .c-social .c-social__title{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute !important;width:1px;word-wrap:normal !important}.c-sidebar-footer .c-social__list{margin:0}.c-sidebar-footer .c-social__list .icon{width:25px;height:25px}.c-sidebar-footer .c-copyright{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute !important;width:1px;word-wrap:normal !important}}.c-content{position:relative;display:flex;flex-direction:row;flex-wrap:wrap;align-items:stretch;padding:0 20px 0;margin-left:360px}@media only screen and (max-width: 900px){.c-content{position:static;padding:0 15px 0;margin-left:0}}.c-posts{width:100%;display:flex;flex-direction:row;flex-wrap:wrap}.c-post{width:100%;max-width:100%;margin-bottom:20px;display:flex;flex-direction:row;align-items:stretch;min-height:180px;border-radius:10px;overflow:hidden;transition:.35s;background-color:#fff;box-shadow:0 1px 1px 0 rgba(31,35,46,.15)}.c-post:hover{transform:translate(0px, -2px);box-shadow:0 15px 45px -10px rgba(10,16,34,.2)}.c-post .c-post-thumbnail{display:block;width:30%;max-width:100%;min-height:180px;border-radius:10px 0 0 10px;background-color:rgba(220,235,245,.2);background-size:cover;background-position:50% 50%}.c-post .c-post-content{padding:15px;width:70%}.c-post .c-post-content .c-post-title{font-size:30px;font-weight:400;margin:0 0 15px}.c-post .c-post-content .c-post-title a{text-decoration:none;color:#263959}.c-post .c-post-content .c-post-date,.c-post .c-post-content .c-post-words{font-size:12px}.c-load-more{padding:20px;margin:20px auto 40px;font-size:13px;color:#fff;border:none;background-color:#3af;outline:none}.c-load-more:hover{background-color:#0086e6}@media only screen and (max-width: 1200px){.c-post{width:48%;max-width:100%;margin:0 1% 20px;flex-direction:column}.c-post .c-post-thumbnail{width:100%;border-radius:10px 10px 0 0}.c-post .c-post-content{width:100%}.c-post .c-post-content .c-post-title{font-size:21px;margin:15px 0}}@media only screen and (max-width: 480px){.c-post{width:100%;max-width:100%;margin:0 0 20px}.c-post .c-post-content{width:100%}.c-post .c-post-content .c-post-title{font-size:21px;margin:15px 0}}.c-article{width:100%;margin:20px 0}.c-wrap-content{padding:20px;background-color:#fff}.c-article__image{position:relative;background-color:rgba(220,235,245,.2);background-position:center;background-size:cover;background-repeat:no-repeat}.c-article__image:after{content:"";display:block;padding-top:56%}.c-article__header{margin-bottom:20px;text-align:center}.c-article__header .c-article__title{margin-bottom:10px}.c-article__date span{font-size:13px;text-transform:uppercase;color:#a0a0a0}.c-article__footer{margin:30px 0 0;padding-bottom:30px;text-align:center;border-bottom:1px solid #f0f0f0}.c-article__footer .c-article__share{transition:.35s}.c-article__footer .c-article__share a .icon{vertical-align:middle;transition:.35s}.c-article__footer .c-article__share a .icon:hover{opacity:.7;transition:.35s}.c-article__footer .c-article__tag{margin-bottom:5px}.c-article__footer .c-article__tag a{display:inline-block;vertical-align:middle;padding:5px 10px;font-family:"Volkhov","Times New Roman",Times,serif;font-size:10px;line-height:10px;text-transform:uppercase;background-color:rgba(115,138,160,.6);color:#fff}.c-article__footer .c-article__tag a:hover{background-color:rgba(80,100,118,.6)}.c-article__footer .c-article__tag a:last-child{margin-right:0}.c-recent-post{padding:30px 0}.c-recent-post .c-recent__title{font-size:14px;text-align:center;text-transform:uppercase;margin-bottom:30px}.c-recent-post .c-recent__box{display:flex;flex-direction:row;flex-wrap:wrap}.c-recent-post .c-recent__item{max-width:23%;flex-basis:23%;margin:0 1% 20px;border-radius:10px;overflow:hidden;text-align:center;background-color:#fff;box-shadow:0 1px 1px 0 rgba(31,35,46,.15);transition:.35s}.c-recent-post .c-recent__item h4{margin-bottom:5px;font-size:12px;text-transform:uppercase}.c-recent-post .c-recent__item h4 a{color:#444}.c-recent-post .c-recent__item:hover{box-shadow:2px 4px 8px 0px rgba(46,61,73,.2)}.c-recent-post .c-recent__footer{padding:15px}.c-recent-post .c-recent__image{display:block;width:100%;min-height:180px;background-color:rgba(220,235,245,.2);background-size:cover;background-position:center;background-repeat:no-repeat}.c-recent-post .c-recent__date{color:#a0a0a0;font-size:12px}@media only screen and (max-width: 1200px){.c-recent-post .c-recent__item{max-width:48%;flex-basis:48%}}@media only screen and (max-width: 900px){.c-article{margin:15px 0}}@media only screen and (max-width: 480px){.c-wrap-content{padding:15px}.c-article__header{margin-bottom:5px}.c-article__header .c-article__title{font-size:24px;margin-bottom:5px}.c-recent-post .c-recent__item{max-width:100%;flex-basis:100%;margin:0 0 20px}}.c-blog-tags{width:100%;padding:20px;margin:20px 0 40px;background-color:#fff}.c-blog-tags h1{text-align:center;margin-bottom:0}.c-blog-tags h2{font-size:18px;text-transform:uppercase;margin:30px 0;color:#757575}.c-tag__list{list-style:none;padding:0 0 40px;margin:40px 0 0;border-bottom:1px solid #f0f0f0}.c-tag__list li{display:inline-block;margin-right:15px}.c-tag__list li a{color:#404040;text-transform:uppercase;font-size:12px}.c-tag__list li a:hover{color:#000}.c-tag__item{margin-bottom:15px}.c-tag__image{width:50px;height:50px;border-radius:50%;margin-right:5px}@media only screen and (max-width: 480px){.c-blog-tags{padding:15px}.c-blog-tags h1{font-size:27px}.c-blog-tags h2{font-size:16px;margin:15px 0}.c-tag__list{padding:0 0 30px;margin:30px 0 0}.c-tag__item{margin-bottom:5px}.c-tag__image{display:none}}.c-header{position:relative;width:100%;margin:20px 0}.c-header__box{position:relative;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.c-header__box .icon--ei-search{position:absolute;top:7px;left:15px;fill:#ccc}.c-search{width:80%}.c-search .c-search__box{display:flex;align-items:center}.c-search .c-search__text{position:relative;width:100%;padding:10px 10px 10px 40px;border:1px solid #dce4ea;border-radius:30px;outline:none;color:#a0a0a0}.c-search .c-search__text::placeholder{color:#ccc}.c-search .c-search__text:hover{box-shadow:0 1px 0px rgba(132,135,138,.1);transition:.35s}.c-search .c-search-results-list{position:absolute;width:100%;margin:10px 0 0;list-style-type:none;background-color:#fff;z-index:1}.c-search .c-search-results-list li{display:flex;flex-wrap:wrap;align-items:center;margin:0;padding:20px 25px 0;background-color:#fff;line-height:1.4;border-left:solid 1px #edeeee;border-right:solid 1px #edeeee}.c-search .c-search-results-list li:first-child{border-top-left-radius:5px;border-top-right-radius:5px;border-top:solid 1px #edeeee}.c-search .c-search-results-list li:last-child{border-bottom-left-radius:5px;border-bottom-right-radius:5px;padding-bottom:25px;border-bottom:solid 1px #edeeee}.c-search .c-search-results-list li a{font-size:16px}.c-nav{flex-grow:1;padding-left:20px}.c-nav .c-nav__list{display:flex;justify-content:flex-end}.c-nav .c-nav__list .c-nav__item{display:flex;align-items:center;float:left;padding:4px 10px;font-size:10px;text-transform:uppercase;white-space:nowrap;border:1px solid #dce4ea;box-shadow:0 1px 0px rgba(132,135,138,.4);will-change:transform;transform:translateY(0px);cursor:pointer}.c-nav .c-nav__list .c-nav__item:hover{color:#222;background-color:#fff}.c-nav .c-nav__list .c-nav__item.is-active{box-shadow:0 0 0 rgba(132,135,138,.5);transform:translateY(1px);color:#cfcfdd}.c-nav .c-nav__list .c-nav__item.is-active:hover{background-color:#fbfbfb}.c-nav .c-nav__list .c-nav__item:first-child{border-radius:10px 0 0 10px}.c-nav .c-nav__list .c-nav__item:last-child{border-radius:0 10px 10px 0}.c-nav .c-nav__list .c-nav__item .icon{width:18px;height:18px;margin-right:3px}@media only screen and (max-width: 900px){.c-header{margin:15px 0}}@media only screen and (max-width: 480px){.c-header .c-header__box{flex-direction:column}.c-header .c-search{width:100%}.c-header .c-search .c-search__text{padding:8px 8px 8px 40px}.c-header .c-nav{margin-top:15px}.c-header .c-nav .c-nav__list{justify-content:center}.c-header .c-nav .c-nav__item{padding:4px 8px}}.c-categories{width:100%}.c-categories__list{width:100%;display:flex;flex-direction:row;flex-wrap:wrap}.c-categories__item{max-width:25%;flex-basis:25%;padding:0 10px 20px}.c-categories__link{height:100%;display:flex;flex-direction:column;align-items:center;padding:20px 10px;border-radius:5px;box-shadow:5px 5px 25px rgba(46,61,73,.15);background-color:#fff;transition:.35s}.c-categories__link:hover{box-shadow:2px 4px 8px 0px rgba(46,61,73,.2)}.c-categories__link:hover .c-categories__img .c-categories__more{opacity:1;transition:.35s}.c-categories__link .c-categories__container{width:100%;word-wrap:break-word}.c-categories__link .c-categories__container.c-empty-figure{display:flex;flex-direction:column;justify-content:center;flex-grow:1}.c-categories__img{position:relative;max-width:100%}.c-categories__img figure{position:relative;width:200px;max-width:100%;margin-bottom:20px;overflow:hidden;background-size:cover;background-repeat:no-repeat;background-position:center;border-radius:50%;box-shadow:inset 0 1px 3px rgba(141,165,185,.3)}.c-categories__img figure:after{content:"";display:block;padding-top:100%}.c-categories__img figure:before{content:"";position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.15)}.c-categories__img .c-categories__more{display:inline-block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);font-weight:700;color:#fff;text-transform:uppercase;text-shadow:0 1px 0 rgba(104,172,191,.3);opacity:0;transition:.35s}.c-categories__container{text-align:center}.c-categories__container .c-categories__header{font-size:13px;margin-bottom:10px;font-weight:normal;text-transform:uppercase;color:#404040}.c-categories__container .c-categories__count{font-family:"Volkhov",serif;font-size:12px;color:#404040;margin-bottom:0}.c-categories__container .c-categories__count span{display:inline-block;width:20px;height:20px;line-height:20px;vertical-align:baseline;margin-right:5px;border-radius:50%;color:#fff;background-color:#ee6c6c}@media only screen and (max-width: 1200px){.c-categories .c-categories__item{max-width:33.333%;flex-basis:33.333%}}@media only screen and (max-width: 1050px){.c-categories .c-categories__item{max-width:50%;flex-basis:50%}}@media only screen and (max-width: 480px){.c-categories .c-categories__item{max-width:100%;flex-basis:100%;padding:0 0 20px}}.c-form-box{position:absolute;top:0;width:calc(100% - 40px);min-height:100vh;padding:0 20px;background-color:#fff;z-index:1}.c-form-bnt__close{position:absolute;top:0px;left:0;width:30px;height:30px;cursor:pointer;transition:.35s}.c-form-bnt__close:hover{transform:scale(0.8);opacity:.8}.c-form{position:relative;width:750px;max-width:100%;margin:40px auto}.c-form .c-form__title{margin:0 0 40px;min-width:0;border:0;padding:0;font-family:"Volkhov","Times New Roman",Times,serif;text-transform:uppercase;text-align:center}.c-form a{color:#404040}.c-form__group{margin-bottom:20px}.c-form__group label{display:block;text-transform:uppercase;font-size:10px}.c-form__group input,.c-form__group textarea{width:100%;padding:10px 15px;color:#404040;border:1px solid #dce4ea;outline:none;transition:.35s}.c-form__group input:focus,.c-form__group textarea:focus{box-shadow:0 4px 25px rgba(132,135,138,.1)}.c-form__group button{padding:20px;text-transform:uppercase;outline:none;border:none}.c-thank-you p{position:relative;padding:20px 40px;width:750px;max-width:100%;text-transform:uppercase;font-size:12px;line-height:18px;font-weight:700;margin:40px auto 0;text-align:center;color:#fff;background:linear-gradient(135deg, #55b5ad 0%, #5ec9c5 100%)}.c-thank-you p .c-form-bnt__close{width:25px;height:25px;background:rgba(0,0,0,0)}.c-thank-you p a{color:#fff}@media only screen and (max-width: 900px){.c-form-box{width:100%;left:0;right:0}}@media only screen and (max-width: 480px){.c-form-bnt__close{width:25px;height:25px}}.c-newsletter{padding:30px 0 60px;margin:0 auto;border-bottom:1px solid #f0f0f0}.c-newsletter__header{text-align:center}.c-newsletter__header .c-newsletter__title{font-size:14px;text-transform:uppercase;text-align:center}.c-newsletter__header .c-newsletter__subtitle{margin-bottom:15px}.c-newsletter-form{width:100%;max-width:750px;margin:0 auto}.c-newsletter-form .c-newsletter-form__group{display:flex}.c-newsletter__email{width:70%;height:40px;padding:10px 15px;border:1px solid #ddd;border-right-color:rgba(0,0,0,0);outline:none;transition:.35s}.c-newsletter__email:focus{box-shadow:0 4px 25px rgba(132,135,138,.1)}.c-newsletter__button{width:30%;height:40px;color:#fff;background-color:#3af;transition:.35s;border:none;outline:none;cursor:pointer}.c-newsletter__button:hover{background-color:#0086e6}@media only screen and (max-width: 480px){.c-newsletter__button{font-size:13px}}.c-comments{padding:30px 0;border-top:1px solid #f0f0f0}.c-top{position:fixed;width:40px;height:40px;bottom:20px;color:#757575;cursor:pointer;transition:.35s;right:-100px;z-index:10;opacity:.5}.c-top--active{right:15px}.c-top:hover{color:#757575;opacity:1}.u-text-left{text-align:left}.u-text-right{text-align:right}.u-text-center{text-align:center}.u-text-justify{text-align:justify}.u-block{display:block}.u-inline-block{display:inline-block}.u-inline{display:inline}.u-full-width{display:block;width:100%}.u-vertical-center{display:flex;align-items:center;justify-content:center}.u-responsive-image{max-width:100%;height:auto;vertical-align:middle}.u-show{display:block !important}.u-hide{display:none !important}.u-invisible{visibility:hidden}.u-float-left{float:left}.u-float-right{float:right}.u-no-padding-top{padding-top:0}.u-no-padding-bottom{padding-bottom:0}.u-no-padding-left{padding-left:0}.u-no-padding-right{padding-right:0}.u-no-padding{padding:0}.u-no-margin-top{margin-top:0}.u-no-margin-bottom{margin-bottom:0}.u-no-margin-left{margin-left:0}.u-no-margin-right{margin-right:0}.u-no-margin{margin:0}.u-lists-reset{list-style-type:none;margin:0;padding:0}.u-clearfix::before,.u-clearfix::after{content:"";display:table;clear:both}.u-screen-reader-text{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute !important;width:1px;word-wrap:normal !important}
  </style>
</head>

<body>
  
  <div class="o-wrapper">
    <aside class="c-sidebar">
  <div class="c-sidebar-author">
    <div class="c-author__cover">
      <a href="/">
        <img src="/images/1.jpg" alt="María Alloza">
      </a>
    </div>
    <div class="c-author__info">
      <div class="c-author__name">María Alloza</div>
      <span class="c-author__job">DevOps Engineer</span>
    </div>
    <div class="c-contact-menu">
      
      <a href="/contact" class="c-contact-btn c-btn c-btn--secondary c-btn--round c-btn--shadow"><span data-icon='ei-envelope' data-size='s'></span> Send me</a>
      
      
      <a href="https://twitter.com/intent/user?screen_name=marixusa" class="c-btn c-btn--primary c-btn--round c-btn--shadow"><span data-icon='ei-sc-twitter' data-size='s'></span> Sígueme</a>
      
    </div>
    <p class="c-author__about">Soy Administradora de Sistemas en camino a convertirme en DevOps Engineer. Siempre con ganas de aprender y compartir.</p>
  </div>

  <div class="c-sidebar-footer">
    <div class="c-social">
      <div class="c-social__title">Social</div>
      <ul class="c-social__list u-lists-reset">
        
          <li class="c-social__item"><a href="https://twitter.com/marixusa" target="_blank"><div data-icon='ei-sc-twitter' data-size='s'></div></a></li>
        
        
        
        
          <li class="c-social__item"><a href="https://github.com/Legnakra" target="_blank"><div data-icon='ei-sc-github' data-size='s'></div></a></li>
        
        
        
        
        
        
        
        
        
        
          <li class="c-social__item"><a href="https://in.linkedin.com/in/www.linkedin.com/in/mariajesusalloza" target="_blank"><div data-icon='ei-sc-linkedin' data-size='s'></div></a></li>
        
      </ul>
    </div>
    <div class="c-copyright">
      <p>2023 &copy; María Alloza</p>
    </div>
  </div>
</aside> <!-- /.c-sidebar -->

<main class="c-content">
  <article class="c-article">
  <div class="c-article__content">
    <header class="c-header u-hide u-no-margin-top">
      <div class="c-header__box">
        <div class="c-search u-full-width">
          <div class="c-search__box">
            <label for="js-search-input" class="u-screen-reader-text">Search for Blog</label>
            <input type="text" id="js-search-input" class="c-search__text" autocomplete="off" placeholder="Type to search...">
            <div data-icon='ei-search' data-size='s'></div>
          </div>
          <ul id="js-results-container" class="c-search-results-list"></ul>
        </div>
      </div>
    </header>
    
    <div class="c-article__image o-opacity" style="background-image: url( /images/debian.png )"></div>
    
    <div class="c-wrap-content">
      <header class="c-article__header">
        <h1 class="c-article__title">Creación de un sistema automatizado de instalación</h1>
        <div class="c-article__date">
          <span>2022, Oct 04</span>
        </div>
      </header>
      <h2 id="introducción">Introducción</h2>

<p>Creación de un sistema automatizado de instalación.
Se deberá configurar el sistema para que se responda automáticamente a todos los item en la instalación. Las diferentes contraseñas deberán codificarse para que no aparezcan en texto plano. Se trabajará con un esquema lvm creando volúmenes lógicos /, home y var.</p>
<ol>
  <li>Instalación basada en fichero de configuración preseed.
    <ul>
      <li>Instalación automatizada basada en medio de almacenamiento extraíble.</li>
      <li>Instalación automatizada con carga de preseed desde red.</li>
    </ul>
  </li>
  <li>Instalación basada en preseed/PXE/TFTP.</li>
</ol>

<h2 id="manos-a-la-obra">Manos a la obra</h2>

<p>Para realizar esta práctica, el primer paso que debemos hacer será descargarnos la imagen ISO con la que vamos a trabajar. La que yo he utilizado la podemos encontrar en <a href="https://www.debian.org/CD/netinst/">este enlace</a></p>

<p><img src="/images/preseed/1.png" alt="1" /></p>

<p>Una vez que nos hemos descargado la imagen iso, lo montamos en un directorio para poder realizar los cambios convenientes y lo haremos de la siguiente manera:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">mkdir</span> /mnt/iso
mount <span class="nt">-o</span> loop <span class="s2">"nombre-iso"</span> </code></pre></figure>

<p>Para montar la iso desatendida, no vamos a necesitar todos los ficheros, sino que vamos a copiar los necesarios y crearemos un enlace simbólico que apuntará al resto.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">mkdir </span>iso-preseed <span class="o">&amp;&amp;</span> <span class="nb">cd </span>iso-preseed
<span class="nb">cp</span> <span class="nt">-pr</span> /mnt/iso/install.amd install.amd
<span class="nb">cp</span> <span class="nt">-pr</span> /mnt/iso/dists dists
<span class="nb">cp</span> <span class="nt">-pr</span> /mnt/iso/pool pool
<span class="nb">cp</span> <span class="nt">-pr</span> /mnt/iso/.disk .disk
<span class="nb">cp</span> <span class="nt">-pr</span> /mnt/iso/isolinux isolinux
<span class="nb">ln</span> <span class="nt">-s</span> .debian</code></pre></figure>

<p>Dentro de este directorio, creamos el directorio donde vamos a alojar nuesstro archivo preseed.cfg. En mi caso, tiene la siguiente estructura:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c">##############################################################################
</span>
<span class="c">#
</span>
<span class="c">#   Instalación automatizada de Debian
</span>
<span class="c">#
</span>
<span class="c">##############################################################################
</span>

<span class="c">#Configuración de lenguaje
</span>
d-i debian-installer/locale string es_ES
d-i debian-installer/language string spanish
d-i debian-installer/country string Spain
d-i debian-installer/locale string es_ES.UTF-8
d-i localechooser/supported-locales es_ES.UTF-8

<span class="c">#Configuración de teclado
</span>
d-i keyboard-configuration/toggle <span class="k">select </span>No toggling
d-i keymap <span class="k">select </span>es
d-i console-setup/ask_detect boolean <span class="nb">true
</span>d-i keyboard-configuration/modelcode string pc105
d-i keyboard-configuration/layoutcode string es
d-i keyboard-configuration/variantcode string qwerty

<span class="c">#Configuración de interfaz
</span>
d-i netcfg/choose_interface <span class="k">select </span>auto

<span class="c">#Creación del usuario y superusuario
</span>
d-i passwd/root-password password admin
d-i passwd/root-password-again password admin
d-i passwd/user-fullname string debian
d-i passwd/username string debian
d-i passwd/user-password password admin
d-i passwd/user-password-again password admin

<span class="c">#Configuración del nombre del host y selección de dominio
</span>
d-i netcfg/get_hostname string debian
d-i netcfg/get_domain string
d-i hw-detect/load_firmware boolean <span class="nb">false</span>

<span class="c">#Seleccionamos zona horaria (España en nuestro caso)
</span>
d-i clock-setup/utc boolean <span class="nb">true
</span>d-i <span class="nb">time</span>/zone string ES/Madrid
d-i clock-setup/ntp boolean <span class="nb">true</span>

<span class="c">#Configuramos el repositorio Debian
</span>
d-i mirror/country string manual
d-i mirror/http/hostname string ftp.es.debian.org
d-i mirror/http/directory string /debian
d-i mirror/http/proxy string

<span class="c">#Configuración de la negativa a la participación en la encuesta
</span>
popularity-contest popularity-contest/participate boolean <span class="nb">false</span>

<span class="c">#Configuración de particiones
</span>
<span class="c">#Vamos a realizar un LVM creando volúmenes lógicos /, home y var.
</span>
d-i partman-auto/disk string /dev/sda
d-i partman-auto/method string lvm
d-i partman-lvm/device_remove_lvm boolean <span class="nb">true
</span>d-i partman-lvm/device_remove_lvm_span boolean <span class="nb">true
</span>d-i partman-auto/purge_lvm_from_device boolean <span class="nb">true
</span>d-i partman-auto-lvm/new_vg_name string vg00
d-i partman-auto-lvm/guided_size string max
d-i partman-md/device_remove_md boolean <span class="nb">true
</span>d-i partman-lvm/confirm_nooverwrite boolean <span class="nb">true
</span>d-i partman-auto/choose_recipe <span class="k">select </span>maria_lvm
d-i partman-auto/expert_recipe string                         <span class="se">\
</span>
       maria_lvm ::                                           <span class="se">\
</span>
              2048 1 2048 ext4                                <span class="se">\
</span>
                      <span class="nv">$primary</span><span class="o">{</span> <span class="o">}</span> <span class="nv">$bootable</span><span class="o">{</span> <span class="o">}</span>                <span class="se">\
</span>
                      method<span class="o">{</span> format <span class="o">}</span> format<span class="o">{</span> <span class="o">}</span>              <span class="se">\
</span>
                      use_filesystem<span class="o">{</span> <span class="o">}</span> filesystem<span class="o">{</span> ext4 <span class="o">}</span>    <span class="se">\
</span>
                      label<span class="o">{</span> boot <span class="o">}</span>                           <span class="se">\
</span>
                      mountpoint<span class="o">{</span> /boot <span class="o">}</span>                     <span class="se">\
</span>
              <span class="nb">.</span>                                               <span class="se">\
</span>
              16384 16384 16384 ext4                          <span class="se">\
</span>
                    <span class="nv">$primary</span><span class="o">{</span> <span class="o">}</span>                               <span class="se">\
</span>
                    method<span class="o">{</span> lvm <span class="o">}</span>                             <span class="se">\
</span>
                    device<span class="o">{</span> /dev/sda <span class="o">}</span>                        <span class="se">\
</span>
                    vg_name<span class="o">{</span> vg00 <span class="o">}</span>                           <span class="se">\
</span>
              <span class="nb">.</span>                                               <span class="se">\
</span>
              6656 6656 6656 ext4                             <span class="se">\
</span>
                     <span class="nv">$lvmok</span><span class="o">{</span> <span class="o">}</span> in_vg<span class="o">{</span> vg00 <span class="o">}</span>                  <span class="se">\
</span>
                     lv_name<span class="o">{</span> lv_root <span class="o">}</span>                       <span class="se">\
</span>
                     method<span class="o">{</span> format <span class="o">}</span> format<span class="o">{</span> <span class="o">}</span>               <span class="se">\
</span>
                     use_filesystem<span class="o">{</span> <span class="o">}</span> filesystem<span class="o">{</span> ext4 <span class="o">}</span>     <span class="se">\
</span>
                     label <span class="o">{</span> root <span class="o">}</span>                           <span class="se">\
</span>
                     mountpoint<span class="o">{</span> / <span class="o">}</span>                          <span class="se">\
</span>
              <span class="nb">.</span>                                               <span class="se">\
</span>
              2048 2048 2048 ext4                             <span class="se">\
</span>
                     <span class="nv">$lvmok</span><span class="o">{</span> <span class="o">}</span> in_vg<span class="o">{</span> vg00 <span class="o">}</span>                  <span class="se">\
</span>
                     lv_name<span class="o">{</span> var <span class="o">}</span>                           <span class="se">\
</span>
                     method<span class="o">{</span> format <span class="o">}</span> format<span class="o">{</span> <span class="o">}</span>               <span class="se">\
</span>
                     use_filesystem<span class="o">{</span> <span class="o">}</span> filesystem<span class="o">{</span> ext4  <span class="o">}</span>    <span class="se">\
</span>
                     label <span class="o">{</span> var <span class="o">}</span>                            <span class="se">\
</span>
                     mountpoint<span class="o">{</span> /var <span class="o">}</span>                       <span class="se">\
</span>
              <span class="nb">.</span>                                               <span class="se">\
</span>
              6656 6656 6656 ext4                             <span class="se">\
</span>
                     <span class="nv">$lvmok</span><span class="o">{</span> <span class="o">}</span> in_vg<span class="o">{</span> vg00 <span class="o">}</span>                  <span class="se">\
</span>
                     lv_name<span class="o">{</span> lv_home <span class="o">}</span>                       <span class="se">\
</span>
                     method<span class="o">{</span> format <span class="o">}</span> format<span class="o">{</span> <span class="o">}</span>               <span class="se">\
</span>
                     use_filesystem<span class="o">{</span> <span class="o">}</span> filesystem<span class="o">{</span> ext4 <span class="o">}</span>     <span class="se">\
</span>
                     label <span class="o">{</span> home <span class="o">}</span>                           <span class="se">\
</span>
                     mountpoint<span class="o">{</span> /home <span class="o">}</span>                      <span class="se">\
</span>
              <span class="nb">.</span>

<span class="c">#Finalización de la partición
</span>
d-i partman-basicfilesystems/no_swap boolean <span class="nb">false
</span>d-i partman-lvm/confirm boolean <span class="nb">true
</span>d-i partman/confirm_write_new_label boolean <span class="nb">true
</span>d-i partman/choose_partition <span class="k">select </span>Finish partitioning and write changes to disk
d-i partman/confirm boolean <span class="nb">true
</span>d-i mdadm/boot_degraded boolean <span class="nb">true
</span>d-i partman-md/confirm boolean <span class="nb">true
</span>d-i partman-partitioning/confirm_write_new_label boolean <span class="nb">true
</span>d-i partman/confirm_nooverwrite boolean <span class="nb">true</span>

<span class="c">#Análisis de medios adicionales
</span>
d-i apt-setup/cdrom/set-first boolean <span class="nb">false
</span>d-i apt-setup/cdrom/set-next boolean <span class="nb">false
</span>d-i apt-setup/cdrom/set-failed boolean <span class="nb">false</span>

<span class="c">#Instalación del grub
</span>
d-i grub-installer/only_debian boolean <span class="nb">true
</span>d-i grub-installer/with_other_os boolean <span class="nb">false
</span>d-i grub-installer/bootdev string default

<span class="c">#Selección de paquetes
</span>
tasksel tasksel/first multiselect standard, ssh-server

<span class="c">#Finalización de la instalación
</span>
d-i finish-install/reboot_in_progress note</code></pre></figure>

<p>El siguiente paso que realizaremos será el de editar el archivo txt.cfg ubicado dentro del directorio /isolinux de la siguiente forma:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">default <span class="nb">install
</span>label <span class="nb">install
        </span>menu label ^Install
        kernel /install.amd/vmlinuz
        append <span class="nv">vga</span><span class="o">=</span>788 <span class="nv">initrd</span><span class="o">=</span>/install.amd/initrd.gz <span class="nt">--</span> quiet
label unattended-gnome
 menu label ^Instalacion desatendida Debian 11
 kernel /install.amd/gtk/vmlinuz
 append <span class="nv">vga</span><span class="o">=</span>788 <span class="nv">initrd</span><span class="o">=</span>/install.amd/gtk/initrd.gz preseed/file<span class="o">=</span>/cdrom/respuestas/preseed.cfg <span class="nv">locale</span><span class="o">=</span>es_ES console-setup/ask_detect<span class="o">=</span><span class="nb">false </span>keyboard-configuration/xkb-keymap<span class="o">=</span>es <span class="nt">--</span></code></pre></figure>

<p>Al realizar cambios en el directorio /isolinux, generaremos la suma de verificación que irá alojada en el CD:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">md5sum</span> <span class="sb">`</span>find <span class="o">!</span> <span class="nt">-name</span> <span class="s2">"md5sum.txt"</span> <span class="o">!</span> <span class="nt">-path</span> <span class="s2">"./isolinux/*"</span> <span class="nt">-follow</span> <span class="nt">-type</span> f<span class="sb">`</span> <span class="o">&gt;</span> md5sum.txt</code></pre></figure>

<p>Por último, solo nos quedaría generar la imagen iso:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">genisoimage <span class="nt">-o</span> cd-preseed.iso <span class="nt">-l</span> <span class="nt">-r</span> <span class="nt">-J</span> <span class="nt">-no-emul-boot</span> <span class="nt">-boot-load-size</span> 4 <span class="nt">-boot-info-table</span> <span class="nt">-b</span> isolinux/isolinux.bin <span class="nt">-c</span> isolinux/boot.cat iso-preseed</code></pre></figure>

<p><img src="/images/preseed/2.png" alt="2" /></p>

<p>Creamos una máquina virtual y compromabos que nuestra instalación se desarrolla correctamente:</p>

<p><img src="/images/preseed/3.jpg" alt="3" /></p>

<p>Una vez realizada la instalación, ejecutamos el comando lsblk para ver si realmente, se ha realizado el LVM como deseábamos.</p>

<p><img src="/images/preseed/4.png" alt="4" /></p>

<p><strong>Errores encontrados hasta este punto de proceso</strong>:</p>

<ul>
  <li>Al realizar las pruebas en KVM, al no borrarse por completo la configuración de la máquina, dado que el archivo qcow2 de dicha máquina seguía guardado, al realizar una nueva prueba, no se reflejaban los nuevos cambios al reutilizarse continuamente el mismo archivo.</li>
</ul>

<h2 id="instalación-automatizada-con-carga-de-preseed-desde-red">Instalación automatizada con carga de preseed desde red</h2>

<p>Creamos una máquina virtual con vagrant en la que configuraremos un servidor nginx y añadiremos nuestra iso (que está en nuestra máquina) a nuestro servidor.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Vagrant.configure<span class="o">(</span><span class="s2">"2"</span><span class="o">)</span> <span class="k">do</span> |config|
  config.vm.box <span class="o">=</span> <span class="s2">"debian/bullseye64"</span> 
  config.vm.hostname <span class="o">=</span> <span class="s2">"servidorDHCP"</span> 
  config.vm.network :private_network,  
    :libvirt__network_name <span class="o">=&gt;</span> <span class="s2">"red-server"</span>, 
    :libvirt__dhcp_enabled <span class="o">=&gt;</span> <span class="nb">false</span>, 
    :ip <span class="o">=&gt;</span> <span class="s2">"172.22.2.5"</span>,
    :libvirt__forward_mode <span class="o">=&gt;</span> <span class="s2">"none"</span> </code></pre></figure>

<p>Configuramos en esta máquina un servidor nginx donde alojaremos el fichero de configuración preseed.cfg</p>

<p><img src="/images/preseed/5.png" alt="5" /></p>

<p><img src="/images/preseed/6.png" alt="6" /></p>

<p>El fichero de configuración está alojado en mi máquina física, por lo que vamos a necesitar traspasar una copia de dicho fichero a la máquina servidor:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">scp /home/maria/preseed.cfg vagrant@192.168.121.175:/home/vagrant/</code></pre></figure>

<p><img src="/images/preseed/7.png" alt="7" /></p>

<p>Copiamos el fichero .cfg al directorio donde se aloja el servidor web.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">sudo cp </span>preseed.cfg /var/www/html/</code></pre></figure>

<p>Nos dirigimos al navegador para cerciorarnos de que efectivamente, podemos acceder al fichero preseed.cfg</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">http://192.168.121.175/preseed.cfg</code></pre></figure>

<p>Hacemos una máquina virtual en la que vamos a aplicar esta configuración a través del método de carga desde red. Esta máquina tendrá una imagen iso sin tocar, sin modificar. Y en el menú de arranque de la instalación elegimos las siguientes opciones:</p>

<p><img src="/images/preseed/8.png" alt="8" /></p>

<p><img src="/images/preseed/9.png" alt="9" /></p>

<p>La instalación comienza, y cuando lleguemos a esta ventana de configuración, escribimos la dirección web donde está alojado nuestro preseed.cfg</p>

<p><img src="/images/preseed/10.png" alt="10" /></p>

<p>Cargado el archivo de configuración y realizada la instalación, apagamos la máquina, cambiamos las opciones de arranque y omitimos el arranque dela iso y ponemos en marcha de nuevo nuestra máquina. Ponemos las credenciales y realizamos el siguiente comando para ver, que efectivamente, nuestra máquina tiene la configuración de particiones, usuario, idioma,… correctamente realizada.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">lbksl</code></pre></figure>

<p><img src="/images/preseed/11.png" alt="11" /></p>

<h2 id="instalación-basada-en-preseedpxetftp">Instalación basada en preseed/PXE/TFTP</h2>

<h3 id="instalamos-dhcp">Instalamos DHCP</h3>

<p>Para realizar la instalación en PXE/TFTP realizaremos los siguientes pasos en una máquina debian que usaremos como servidor dhcp.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">sudo </span>apt <span class="nb">install </span>isc-dhcp-server</code></pre></figure>

<p>y lo configuramos de la siguiente manera, modificando los ficheros alojados en /etc/dhcp/dhcpd.conf y el /etc/default/isc-dhcp-server:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">dhcpd.conf
<span class="nt">------</span>
allow booting<span class="p">;</span>

subnet 192.168.121.0 netmask 255.255.255.0 <span class="o">{</span>
  range 192.168.121.20 192.168.121.50<span class="p">;</span>
  option broadcast-address 192.168.121.255<span class="p">;</span>
  option routers 192.168.121.1<span class="p">;</span>
  option domain-name-servers 192.168.121.1<span class="p">;</span>
  next-server 192.168.121.10<span class="p">;</span>
  filename <span class="s2">"pxelinux.0"</span><span class="p">;</span>
<span class="o">}</span></code></pre></figure>

<p>Tras estas modificaciones, reiniciamos el servicio con el siguiente comando:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">sudo </span>systemctl restart isc-dhcp-server</code></pre></figure>

<h3 id="instalamos-tftp">Instalamos TFTP</h3>

<p>Procedemos a la instalación del servidor TFTP:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">sudo </span>apt <span class="nb">install </span>tftpd-hpa</code></pre></figure>

<p>Seguido de esto, creamos el directorio en el que descargaremos la imagen iso que luego descomprimiremos en el mismo:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">mkdir</span> /srv/tftp <span class="c">#Creamos directorio
</span>
<span class="nb">cd</span> /srv/tftp <span class="c">#Nos movemos al directorio
</span>
wget https://deb.debian.org/debian/dists/bullseye/main/installer-amd64/current/images/netboot/netboot.tar.gz <span class="c">#Nos descargamos la ISO
</span>
<span class="nb">sudo tar</span> <span class="nt">-xvf</span> netboot.tar.gz <span class="c">#Descomprimimos la ISO</span></code></pre></figure>

<p>Hecho todo lo anterior, nos disponemos a realizar un reinicio del tftp y comenzaríamos con la configuración de la máquina virtual:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">sudo </span>systemctl restart tftpd-hpa</code></pre></figure>

<h3 id="escenario">Escenario</h3>

<p>Abrimos KVM y realizamos las siguientes configuraciones:
*Realizamos todas las configuraciones que aparecen en las imágenes.</p>

<p><img src="/images/preseed/12.png" alt="12" /></p>

<p><img src="/images/preseed/13.png" alt="13" /></p>

<p><img src="/images/preseed/14.png" alt="14" /></p>

<p><img src="/images/preseed/15.png" alt="15" /></p>

<p><img src="/images/preseed/16.png" alt="16" /></p>

<p><strong>ERRORES</strong>:</p>

<p>He tenido muchos errores a la hora de configurar el servidor DHCP debido a un conflicto que se causó en mi máquina, que finalmente resolví y pude configurar tanto el servicio TFTP y el DHCP.</p>

<p><img src="/images/preseed/17.png" alt="17" /></p>

<p>A la hora de arrancar esta última máquina en la que se realizaría la instalación a través del PXE, me salta un error de conexión, aún teniendo las máquinas en la misma red conectadas.</p>

<p><img src="/images/preseed/18.png" alt="18" /></p>

      <div class="c-article__footer u-clearfix">
        <div class="c-article__tag">
          
          <a href="/tags#ASO">&#35; ASO</a>
          
          <a href="/tags#Debian">&#35; Debian</a>
          
          <a href="/tags#preseed">&#35; preseed</a>
          
          <a href="/tags#desatendido">&#35; desatendido</a>
          
          <a href="/tags#instalación">&#35; instalación</a>
          
          <a href="/tags#automatizado">&#35; automatizado</a>
          
        </div>
      </div>
      </div> <!-- /.c-recent-post -->
    </div> <!-- /.c-wrap-content -->
  </div> <!-- /.c-article__content -->
</article> <!-- /.c-article-page -->
</main> <!-- /.c-content -->

  </div> <!-- /.o-wrapper -->
  <div class="c-top" data-icon='ei-chevron-up' data-size='s' title="Scroll To Top"></div> <!-- /.c-top -->
  <script src="/js/jquery-3.3.1.min.js"></script>
<script src="/js/evil-icons.min.js"></script>
<script src="/js/jquery.fitvids.js"></script>
<script src="/js/simple-jekyll-search.min.js"></script>
<script src="/js/main.js"></script>
<!-- /javascripts -->
</body>
</html>